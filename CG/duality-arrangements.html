<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>יחידה 8 מערכים ודואליות | גאומטריה חישובית</title>
<meta name="author" content="ד’’ר עומרית פילצר">
<meta name="description" content="8.1 הקדמה  8.1.1 מה ביחידה? יחידה זו מקבילה לפרק השמיני בספר הלימוד. המושגים והרעיונות העיקריים שיילמדו ביחידה: ה-discrepancy של קבוצת נקודות. רעיון הדואליות של נקודה וישר. מערך של ישרים במישור....">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content="יחידה 8 מערכים ודואליות | גאומטריה חישובית">
<meta property="og:type" content="book">
<meta property="og:url" content="https://omrit.filtser.com/CG/duality-arrangements.html">
<meta property="og:description" content="8.1 הקדמה  8.1.1 מה ביחידה? יחידה זו מקבילה לפרק השמיני בספר הלימוד. המושגים והרעיונות העיקריים שיילמדו ביחידה: ה-discrepancy של קבוצת נקודות. רעיון הדואליות של נקודה וישר. מערך של ישרים במישור....">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="יחידה 8 מערכים ודואליות | גאומטריה חישובית">
<meta name="twitter:description" content="8.1 הקדמה  8.1.1 מה ביחידה? יחידה זו מקבילה לפרק השמיני בספר הלימוד. המושגים והרעיונות העיקריים שיילמדו ביחידה: ה-discrepancy של קבוצת נקודות. רעיון הדואליות של נקודה וישר. מערך של ישרים במישור....">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.0/transition.js"></script><script src="libs/bs3compat-0.5.0/tabs.js"></script><script src="libs/bs3compat-0.5.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row no-pad">
  <header class="col-sm-12 col-lg-2 sidebar sidebar-book border-left"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">גאומטריה חישובית</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search" dir="rtl">
        <input id="search" class="form-control" type="search" placeholder="חיפוש" aria-label="Search" dir="rtl">
</form>

      <nav aria-label="Table of contents"><h2>יחידות הלימוד:</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">ברוכים הבאים</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> מבוא</a></li>
<li><a class="" href="map-overlay.html"><span class="header-section-number">2</span> מפות מישוריות וטכניקת הישר הסורק</a></li>
<li><a class="" href="pol-tringle.html"><span class="header-section-number">3</span> שילושי פוליגונים ובעיית הגלריה לאמנות</a></li>
<li><a class="" href="linear-prog.html"><span class="header-section-number">4</span> תכנון לינארי וחיתוך של חצאי מישורים</a></li>
<li><a class="" href="orthogonal-range-seach.html"><span class="header-section-number">5</span> חיפוש בתחומים אורתוגונליים</a></li>
<li><a class="" href="point-location.html"><span class="header-section-number">6</span> מיקום נקודה ומפה טרפזית</a></li>
<li><a class="" href="voronoi.html"><span class="header-section-number">7</span> דיאגרמת וורונוי</a></li>
<li><a class="active" href="duality-arrangements.html"><span class="header-section-number">8</span> מערכים ודואליות</a></li>
<li><a class="" href="Delaunay-triangulation.html"><span class="header-section-number">9</span> שילושי דלוני</a></li>
<li><a class="" href="motion-planning.html"><span class="header-section-number">10</span> תכנון תנועה</a></li>
<li><a class="" href="WSPD-spanners.html"><span class="header-section-number">11</span> פורשים גאומטריים וקבוצות מופרדות היטב</a></li>
<li><a class="" href="curve-similarity.html"><span class="header-section-number">12</span> דמיון בין עקומים</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="duality-arrangements" class="section level1" number="8">
<h1>
<span class="header-section-number">יחידה 8</span> מערכים ודואליות<a class="anchor" aria-label="anchor" href="#duality-arrangements"><i class="fas fa-link"></i></a>
</h1>
<div id="preface-8" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> הקדמה<a class="anchor" aria-label="anchor" href="#preface-8"><i class="fas fa-link"></i></a>
</h2>
<div id="contents-8" class="section level3" number="8.1.1">
<h3>
<span class="header-section-number">8.1.1</span> מה ביחידה?<a class="anchor" aria-label="anchor" href="#contents-8"><i class="fas fa-link"></i></a>
</h3>
<p>יחידה זו מקבילה לפרק השמיני בספר הלימוד.</p>
<p>המושגים והרעיונות העיקריים שיילמדו ביחידה:</p>
<ul>
<li>ה-discrepancy של קבוצת נקודות.</li>
<li>רעיון הדואליות של נקודה וישר.</li>
<li>מערך של ישרים במישור.</li>
<li>הרמה (level) של נקודה במערך של ישרים.</li>
</ul>
<p>למידה מהנה!</p>
</div>
<div id="geometric-sampling" class="section level3" number="8.1.2">
<h3>
<span class="header-section-number">8.1.2</span> דגימה גיאומטרית טובה<a class="anchor" aria-label="anchor" href="#geometric-sampling"><i class="fas fa-link"></i></a>
</h3>
<p>ההתמודדות עם נתוני עתק (big data) מציבה אתגר עצום בתחום טכנולוגית המידע, ואחת הדרכים להתמודד עם היקף מאסיבי של נתונים היא על ידי דגימה (sampling). למשל, בהינתן אוסף גדול מאוד של נקודות, ניתן לדגום מתוכן אוסף קטן יותר שישמש ייצוג קומפקטי של האוסף המקורי, ועליו ניתן לבצע חישובים ביעילות. גם כאשר רוצים למדל אובייקט רציף במחשב, משתמשים בדרך כלל באוסף סופי של נקודות או פיקסלים; למשל, כדי לייצג את פני השטח במפה טופוגרפית, לוקחים מדידות של גובה בנקודות אקראיות (האיור למטה לקוח <a href="https://www.researchgate.net/figure/Figure-Topographic-map-of-High-Mountain-Asia-HMA-based-on-SRTM-VV-data-with_fig7_323301551">מהמאמר הזה</a>, ומציג מפה טופוגרפית של אזור הררי באסיה, עם 2,500 נקודות שנבחרו בדגימה מקרית).</p>
<center>
<div class="inline-figure"><img src="images/8/Topographic-map.png" style="width:70.0%"></div>
</center>
<p>הבחירה בדגימה מקרית של נקודות לעומת דגימה תבניתית יכולה לנבוע מכמה סיבות:</p>
<ul>
<li>דגימה מקרית מאפשרת הוכחה של חסמים הסתברותיים (חסמים על התוחלת).</li>
<li>לפעמים דגימה מקרית נראית טבעית יותר לעין האנושית. <!-- -   האובייקט שאותו ממדלים עלול "להתאים" לתבנית באופן כזה שאוסף הנקודות לא ישקף את המציאות. -->
</li>
</ul>
<div class="inline-figure"><img src="08-duality-arrangements_files/figure-html/unnamed-chunk-1-1.png" width="60%" style="display: block; margin: auto;"></div>
<p>עם זאת, לא כל דגימה מקרית תהיה “טובה”, כלומר היינו רוצים שפיזור הנקודות שנדגמו יהיה פחות או יותר אחיד, כדי שישקף את המצב המקורי. נסביר זאת על ידי דוגמה.</p>
<p><img src="images/8/discrepancy.jpg" align="left" width="33%"> נניח שדגמנו קבוצה <span class="math inline">\(S\)</span> של <span class="math inline">\(n\)</span> נקודות מריבוע היחידה <span class="math inline">\(U=[0,1]\times [0,1]\)</span>. היינו רוצים שלקבוצה <span class="math inline">\(S\)</span> תהיה התכונה הבאה: לכל חצי מישור <span class="math inline">\(h\)</span>, <strong>שיעור</strong> הנקודות מ-<span class="math inline">\(S\)</span> שנמצאות ב-<span class="math inline">\(h\)</span> יהיה פחות או יותר כמו גודל החיתוך של <span class="math inline">\(h\)</span> עם <span class="math inline">\(U\)</span>.</p>
<p>באופן פורמלי יותר, נגדיר את <strong>המדד הרציף</strong> של <span class="math inline">\(h\)</span> להיות השטח של <span class="math inline">\(h \cap U\)</span>. נסמן אותו ב-<span class="math inline">\(\mu(h)\)</span>. נוסף על כך, נגדיר את <strong>המדד הדיסקרטי</strong> של <span class="math inline">\(h\)</span> להיות <span class="math inline">\(\mu_S(h)=|S\cap h|/|S|\)</span>. הדגימה <span class="math inline">\(S\)</span> תהיה טובה אם לכל בחירה של חצי מישור <span class="math inline">\(h\)</span> יתקיים <span class="math inline">\(\mu(h)\approx\mu_S(h)\)</span>.<br>
במתמטיקה, מושג זה נקרא <a href="https://en.m.wikipedia.org/wiki/Discrepancy_theory">Discrepancy</a>. מדד ה-discrepancy של חצי המישור <span class="math inline">\(h\)</span> מוגדר להיות: <span class="math display">\[\Delta_S(h)=|\mu(h)-\mu_S(h)|.\]</span></p>
<div class="rmdtip">
<p><img src="images/example.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u>דוגמה:<br></u> באיור למטה, הקבוצה <span class="math inline">\(S\)</span> מכילה חמש נקודות. חצי המישור <span class="math inline">\(h\)</span> מכיל רק שתי נקודות מתוך <span class="math inline">\(S\)</span>, ולכן המדד הדיסקרטי של <span class="math inline">\(h\)</span> הוא <span class="math inline">\(\mu_S(h)=|S\cap h|/|S|=2/5\)</span>. שטח החיתוך של חצי המישור <span class="math inline">\(h\)</span> עם ריבוע היחידה <span class="math inline">\(U\)</span> הוא בדיוק <span class="math inline">\(1/2\)</span>, ולכן מדד ה-discrepancy של <span class="math inline">\(h\)</span> הוא <span class="math display">\[\Delta_S(h)=|\mu(h)-\mu_S(h)|=|1/2-2/5|=1/10.\]</span></p>
<center>
<img src="images/8/example.jpg" style="width:30.0%">
</center>
</div>
<p>נסמן ב-<span class="math inline">\(\mathcal{H}\)</span> את אוסף כל חצאי המישורים. מדד ה-discrepancy של הקבוצה <span class="math inline">\(S\)</span> ביחס לחצאי מישור מוגדר להיות: <span class="math display">\[\Delta_S(\mathcal{H})=\sup_{h\in\mathcal{H}}\Delta_S(h).\]</span> במילים אחרות, זהו חצי המישור ה”<strong>גרוע ביותר</strong>”, כלומר זה שעבורו מדד ה-discrepancy הוא <strong>מקסימלי</strong>. אינטואיטיבית, ככל שמדד ה-discrepancy מתקרב ל-0, כך הדגימה <span class="math inline">\(S\)</span> טובה יותר, כלומר מפוזרת באופן אחיד יותר על פני <span class="math inline">\(U\)</span>.</p>
<p>(הערה: בסעיף 8.1 בספר הלימוד, הסימון למדד ה-discrepancy של קבוצה <span class="math inline">\(S\)</span> ביחס לחצאי מישור הוא <span class="math inline">\(\Delta_\mathcal{H}(S)\)</span>, אך זוהי ככל הנראה שגיאת דפוס.)</p>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> התבוננו באיור הבא שבו קבוצה <span class="math inline">\(S\)</span> של נקודות (כחולות) בתוך ריבוע היחידה <span class="math inline">\(U\)</span>, וחצי מישור <span class="math inline">\(h\)</span>.</p>
<center>
<img src="images/8/discrepancy-exercise.jpg" style="width:30.0%">
</center>
<ol style="list-style-type: decimal">
<li>מהו המדד הדיסקרטי של <span class="math inline">\(h\)</span>?</li>
<li>כיצד ניתן לחשב את המדד הרציף של חצי מישור נתון? חשבו את המדד הרציף של חצי המישור <span class="math inline">\(h\)</span> המופיע באיור.</li>
<li>מהו <span class="math inline">\(\Delta_S(h)\)</span>?</li>
<li>האם יש חצי מישור שהוא “גרוע יותר” מ-<span class="math inline">\(h\)</span>? כלומר מדד ה-discrepancy שלו גדול יותר?</li>
</ol>
<details><summary>
(פתרון)
</summary><p>הקבוצה <span class="math inline">\(S\)</span> מכילה 12 נקודות. חצי המישור <span class="math inline">\(h\)</span> מכיל שמונה מהן, ולכן המדד הדיסקרטי הוא <span class="math inline">\(8/12=2/3\)</span>.</p>
<p>שטח החיתוך של <span class="math inline">\(h\)</span> עם <span class="math inline">\(U\)</span> הוא <span class="math inline">\(1/2+1/8=5/8\)</span> (ניתן לראות שהוא מכיל את שתי השורות התחתונות של הגריד, כלומר החצי התחתון של ריבוע היחידה, ועוד חצי מהשורה השלישית מלמטה).</p>
<p>באופן כללי, ניתן לחשב את השטח על ידי מציאת נקודות החיתוך של הישר המגדיר את חצי המישור <span class="math inline">\(h\)</span> עם ריבוע היחידה, ואז לחשב את השטח כסכום של שטח מלבן ושטח משולש.</p>
<p>קיבלנו <span class="math inline">\(\Delta_S(h)=2/3-5/8=1/24\)</span>.</p>
<p>שימו לב שקיימים מספר חצאי מישורים שלא מכילים אף נקודה כחולה, ושטח החיתוך שלהם עם הריבוע גדול מ-<span class="math inline">\(1/24\)</span>. לכן חצאי מישורים אלו “גרועים יותר” מ-<span class="math inline">\(h\)</span>.</p>
</details>
</div>
</div>
<div id="discrepancy" class="section level3" number="8.1.3">
<h3>
<span class="header-section-number">8.1.3</span> חישוב ה-discrepancy של קבוצת נקודות<a class="anchor" aria-label="anchor" href="#discrepancy"><i class="fas fa-link"></i></a>
</h3>
<p>עכשיו נוכל לשאול: כיצד ניתן לחשב את <span class="math inline">\(\Delta_S(\mathcal{H})\)</span>? בעצם אנחנו מחפשים חצי מישור <span class="math inline">\(\hat{h}\)</span> שעבורו <span class="math inline">\(\Delta_S(\mathcal{H})=\Delta_S(\hat{h})\)</span> , כלומר לכל <span class="math inline">\(h\in\mathcal{H}\)</span> מתקיים <span class="math inline">\(\Delta_S(\hat{h})\ge \Delta_S(h)\)</span>.</p>
<p><img src="images/8/discrepancy-obs.jpg" align="left" width="30%"> אבחנה מיידית ראשונה היא שהישר שמגדיר את <span class="math inline">\(\hat{h}\)</span> חייב לעבור דרך לפחות נקודה אחת מ-<span class="math inline">\(S\)</span>: אם זה לא המצב, נוכל להזיז מעט את הישר המגדיר את <span class="math inline">\(\hat{h}\)</span> לעבר הנקודה הקרובה ביותר אליו מאחד הצדדים, מבלי לשנות את המידה הדיסקרטית שלו. המידה הרציפה תגדל או תקטן, ובאחד הצדדים נקבל מדד discrepancy גדול יותר.</p>
<p>כדי לחשב את <span class="math inline">\(\Delta_S(\mathcal{H})\)</span>, היינו רוצים למצוא מספר סופי של מועמדים להיות <span class="math inline">\(\hat{h}\)</span>. בסעיף 8.1 בספר הלימוד מוכיחים את הטענה הבאה:</p>
<div class="rmdimportant">
<p><img src="images/definition.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u><strong>טענה</strong>:</u></p>
<p>חצי מישור <span class="math inline">\(h\)</span> שעבורו <span class="math inline">\(\Delta_S(h)\)</span> מקסימלי, הוא אחד משני הסוגים הבאים:</p>
<ol style="list-style-type: decimal">
<li>ל-<span class="math inline">\(h\)</span> יש בדיוק נקודה אחת מ-<span class="math inline">\(S\)</span> על שפתו,</li>
<li>ל-<span class="math inline">\(h\)</span> יש לפחות 2 נקודות על שפתו.</li>
</ol>
<p>נוסף על כך, מספר המועמדים מהסוג הראשון הוא <span class="math inline">\(O(n)\)</span>, וניתן למצוא אותם בזמן <span class="math inline">\(O(n)\)</span>.</p>
</div>
<p>בהינתן מועמד <span class="math inline">\(h\)</span>, נוכל לחשב את המידה הרציפה שלו בזמן קבוע, ואת המידה הדיסקרטית שלו בזמן <span class="math inline">\(O(n)\)</span>. מכיוון שמספר המועמדים מהסוג הראשון הוא <span class="math inline">\(O(n)\)</span> וגם ניתן למצוא אותם בזמן <span class="math inline">\(O(n)\)</span>, סך כל הזמן שייקח לנו לחשב את <span class="math inline">\(\Delta_S(h)\)</span> עבור כל המועמדים מסוג זה הוא <span class="math inline">\(O(n^2)\)</span>.</p>
<p>מה בנוגע למועמדים מהסוג השני? מכיוון שיש <span class="math inline">\(O(n^2)\)</span> כאלה, נצטרך לבצע את חישוב המידה הדיסקרטית שלהם באופן אחר. בהמשך היחידה נלמד טכניקה חשובה ומרתקת שתאפשר לנו לעשות זאת בזמן <span class="math inline">\(O(n^2)\)</span> בסך הכול! לטכניקה הזו קוראים <strong>דואליות של נקודה וישר</strong>.</p>
<p>הערה: ביחידה זו נדלג על ההקדמה לפרק 8 בספר הלימוד, וכן על סעיף 8.1. כמו כן, לא נוכיח את הטענה שלעיל, ורק נראה כיצד ניתן להשתמש בה כדי לחשב את ה-discrepancy.</p>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> באיור למטה מופיעים ארבעה חצאי מישור, <span class="math inline">\(h_1,h_2,h_3,h_4\)</span>, כולם עוברים דרך אותה נקודה מ-<span class="math inline">\(S\)</span>. שימו לב ש-<span class="math inline">\(h_i\)</span> מתקבל מ-<span class="math inline">\(h_{i-1}\)</span> על ידי סיבוב של הישר המגדיר אותו נגד כיוון השעון. כל חצאי המישורים מכילים בדיוק את אותה קבוצת נקודות מ-<span class="math inline">\(S\)</span>. למי מהם <span class="math inline">\(\Delta_S\)</span> מקסימלי? למי מינימלי?</p>
<center>
<img src="images/8/discrepancy-exercise2.jpg" style="width:40.0%">
</center>
<details><summary>
(פתרון)
</summary><p>שטח החיתוך של <span class="math inline">\(h_1\)</span> או <span class="math inline">\(h_2\)</span> עם <span class="math inline">\(U\)</span> הוא הגדול ביותר, והוא שווה ל-<span class="math inline">\(3/4\)</span>. השטח קטן יותר ויותר לאחר שעוברים את <span class="math inline">\(h_2\)</span> ומסובבים לכיוון <span class="math inline">\(h_4\)</span>. שטח החיתוך של <span class="math inline">\(h_4\)</span> של <span class="math inline">\(U\)</span> הוא הקטן ביותר. כולם מכילים <span class="math inline">\(4/5\)</span> מהנקודות ב-<span class="math inline">\(S\)</span>, ולכן ככל ששטח החיתוך קטן נקבל הפרש גדול יותר בין המדד הדיסקרטי לרציף. לכן המדד המקסימלי יתקבל עבור <span class="math inline">\(h_1\)</span> ו-<span class="math inline">\(h_2\)</span>, והמינימלי עבור <span class="math inline">\(h_4\)</span>.</p>
</details>
</div>
<hr>
</div>
</div>
<div id="point-line-duality" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> דואליות של נקודה וישר<a class="anchor" aria-label="anchor" href="#point-line-duality"><i class="fas fa-link"></i></a>
</h2>
<div id="definition" class="section level3" number="8.2.1">
<h3>
<span class="header-section-number">8.2.1</span> הגדרת הטרנספורמציה הדואלית<a class="anchor" aria-label="anchor" href="#definition"><i class="fas fa-link"></i></a>
</h3>
<p>ביחידה 3 דיברנו על <a href="pol-tringle.html#dual-graph">הגרף הדואלי לשילוש</a>, וראינו שבעזרתו ניתן לחשב בקלות צביעה חוקית של קודקודי המשולשים בשלושה צבעים (שימו לב שניתן להגדיר באופן דומה גרף דואלי לגרף מישורי שפאותיו הן לא בהכרח משולשים). באופן כללי, <strong>דואליות</strong> היא כלי חשוב בניתוח ופתרון של בעיות גיאומטריות: היא מאפשרת לנו להסתכל על בעיה נתונה מפרספקטיבה שונה, על ידי תיאור של בעיה דואלית שקולה. לפעמים הבעיה הדואלית נראית פשוטה הרבה יותר לפתרון, ואז ניתן להפוך את הפתרון לבעיה הדואלית לפתרון לבעיה המקורית.</p>
<p>בפרק זה נדבר על הדואליות של נקודות וישרים במישור. נקודה <span class="math inline">\(p\)</span> במישור מתוארת על ידי שתי הקואורדינטות שלה, למשל, <span class="math inline">\(p=(p_x,p_y)\)</span>. גם ישר (לא אנכי) <span class="math inline">\(y=mx+b\)</span> מתואר על ידי שני פרמטרים: השיפוע שלו, <span class="math inline">\(m\)</span>, והגורם הקבוע, <span class="math inline">\(b\)</span>. לכן ניתן למפות נקודה לישר, ולהפך, באופן חד-חד-ערכי. ניתן לחשוב על טרנספורמציות שונות, אך בקורס הזה נעסוק בטרנספורמציה הפשוטה הבאה:</p>
<ul>
<li>הישר הדואלי לנקודה <span class="math inline">\(p=(p_x,p_y)\)</span> יסומן ב-<span class="math inline">\(p^*\)</span>. והוא: <span class="math inline">\(p^*:~ y=p_x x-p_y\)</span>
</li>
<li>הנקודה הדואלית לישר <span class="math inline">\(\ell:~ y=mx+b\)</span> תסומן <span class="math inline">\(\ell^*\)</span>. והיא: <span class="math inline">\(\ell^*=(m,-b)\)</span>
</li>
</ul>
<div class="rmdtip">
<p><img src="images/example.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u>דוגמה:</u></p>
<ul>
<li>הישר הדואלי לנקודה <span class="math inline">\(p=(3,1)\)</span> הוא <span class="math inline">\(p^*:~ y=3x-1\)</span>.</li>
<li>הנקודה הדואלית לישר <span class="math inline">\(\ell:~ y=x+2\)</span> היא <span class="math inline">\(\ell^*=(1,-2)\)</span>.</li>
</ul>
<center>
<img src="images/8/duality-example.jpg" style="width:50.0%">
</center>
</div>
<p>הטרנספורמציה הדואלית שהגדרנו ממפה אובייקטים מ<strong>המישור הראשי</strong> (primal plane) ל<strong>מישור הדואלי</strong> (dual plane), ויש לה מספר תכונות מעניינות, שאותן נראה מייד. אך לפני כן, נסו לבחון בעצמכם את תכונות הטרנספורמציה הדואלית בעזרת היישומון הבא.</p>
<center>
<iframe src="https://www.desmos.com/calculator/zhezzindqi?embed" width="100%" height="500" style="border: 1px solid #ccc" frameborder="0">
</iframe>
</center>
<div class="rmdwarning">
<div class="inline-figure">
<img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> התבוננו באיור הבא, והתאימו בין נקודה לישר הדואלי שלה.</div>
<center>
<img src="images/8/point-line-ex.jpg" style="width:60.0%">
</center>
<details><summary>
(פתרון)
</summary><p>זיכרו שקואורדינטת ה-<span class="math inline">\(x\)</span> ממופה לשיפוע הישר, וקואורדינטת ה-<span class="math inline">\(y\)</span> לחיתוך עם ציר ה-<span class="math inline">\(y\)</span>.</p>
<p>הנקודה <span class="math inline">\(p_1\)</span> נמצאת על ציר ה-<span class="math inline">\(y\)</span>, כלומר קואורדינטת ה-<span class="math inline">\(x\)</span> שלה היא אפס, ולכן לישר הדואלי המתאים לה יהיה שיפוע 0, כלומר זהו <span class="math inline">\(\ell_3\)</span>.</p>
<p>הנקודה <span class="math inline">\(p_2\)</span> נמצאת על ציר ה-<span class="math inline">\(x\)</span>, כלומר קואורדינטת ה-<span class="math inline">\(y\)</span> שלה היא אפס, ולכן הישר הדואלי המתאים לה ייחתך עם ציר ה-<span class="math inline">\(y\)</span> בראשית הצירים, ולכן זהו <span class="math inline">\(\ell_1\)</span>.</p>
<p>עבור הנקודה <span class="math inline">\(p_3\)</span> נשאר לנו הישר <span class="math inline">\(\ell_2\)</span>, אבל אפשר לזהות זאת גם ללא אלימינציה: לנקודה <span class="math inline">\(p_3\)</span> קואורדינטת <span class="math inline">\(x\)</span> חיובית וקואורדינטת <span class="math inline">\(y\)</span> שלילית, ואכן השיפוע של <span class="math inline">\(\ell_2\)</span> חיובי, והוא נחתך עם ציר ה-<span class="math inline">\(y\)</span> מעל הראשית.</p>
</details>
</div>
</div>
<div id="properties" class="section level3" number="8.2.2">
<h3>
<span class="header-section-number">8.2.2</span> תכונות הטרנספורמציה הדואלית<a class="anchor" aria-label="anchor" href="#properties"><i class="fas fa-link"></i></a>
</h3>
<p>כדי שנוכל להשתמש בטרנספורמציה הדואלית שהגדרנו, ננסה להבין תחילה מה היחס בין המישור הדואלי למישור הראשי, כלומר אילו תכונות נשמרות וכיצד. בסרטון הבא נבחן יחד את הטרנספורמציה הדואלית ואת התכונות שלה.</p>
<div id="צפו-בסרטון-הבא.-12" class="section level4 unnumbered">
<h4>צפו בסרטון הבא.<a class="anchor" aria-label="anchor" href="#%D7%A6%D7%A4%D7%95-%D7%91%D7%A1%D7%A8%D7%98%D7%95%D7%9F-%D7%94%D7%91%D7%90.-12"><i class="fas fa-link"></i></a>
</h4>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Ou4zdkMlgoI?si=qpbcGcV6AeENuL-s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</center>
<p>ראינו שהטרנספורמציה הדואלית מקיימת את התכונות הבאות:</p>
<div class="rmdimportant">
<p><img src="images/definition.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u><strong>אבחנה</strong>:</u></p>
<p>תהי <span class="math inline">\(p\)</span> נקודה ו-<span class="math inline">\(\ell\)</span> ישר לא אנכי, שניהם במישור. הטרנספורמציה הדואלית <span class="math inline">\(o\rightarrow o^*\)</span> מקיימת את התכונות הבאות:</p>
<ol style="list-style-type: decimal">
<li>
<strong>משמרת יחס חילה</strong> (incidence preserving): <span class="math inline">\(p\in \ell\)</span> אם ורק אם <span class="math inline">\(\ell^*\in p*\)</span>.</li>
<li>
<strong>משמרת סדר</strong> (order preserving): <span class="math inline">\(p\)</span> מעל <span class="math inline">\(\ell\)</span> אם ורק אם <span class="math inline">\(\ell^*\)</span> מעל <span class="math inline">\(p^*\)</span>.</li>
</ol>
<center>
<img src="images/8/dual-primal.jpg" style="width:80.0%">
</center>
</div>
<p>כמו כן, ראינו שבמישור הדואלי, קטע <span class="math inline">\(s=\overline{pq}\)</span> הוא איחוד הישרים הדואליים לנקודות על <span class="math inline">\(s\)</span>. כלומר <span class="math inline">\(s^*\)</span> הוא אוסף אינסופי של ישרים, שלכולם נקודת חיתוך אחת. ניתן לראות זאת ביישומון הבא: הזיזו את הנקודה השחורה שעל הקטע <span class="math inline">\(\overline{pq}\)</span>, ותוכלו לראות כיצד הישר הדואלי (הצבוע בשחור) משתנה ביחס לישרים הדואלים ל-<span class="math inline">\(p\)</span> ו-<span class="math inline">\(q\)</span>.</p>
<center>
<iframe src="https://www.desmos.com/calculator/bhy5azkiwk?embed" width="100%" height="500" style="border: 1px solid #ccc" frameborder="0">
</iframe>
</center>
<div class="rmdnote">
<p><img src="images/extra.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><strong>הגדרה שקולה:</strong><br>
בסעיף 8.2 בספר הלימוד מתוארת דרך אחרת לחשוב על הטרנספורמציה הדואלית – בעזרת הפרבולה <span class="math inline">\(\mathcal{U}:~ y=x^2/2\)</span>. עבור נקודה <span class="math inline">\(p\)</span> שנמצאת על הפרבולה, הישר הדואלי <span class="math inline">\(p^*\)</span> הוא בדיוק הישר המשיק לפרבולה בנקודה <span class="math inline">\(p\)</span>. עבור נקודה <span class="math inline">\(q\)</span> שלא נמצאת על הפרבולה, ושיש לה אותה קואורדינטת <span class="math inline">\(x\)</span> כמו ל-<span class="math inline">\(p\)</span>, השיפוע של <span class="math inline">\(q^*\)</span> הוא בדיוק השיפוע של <span class="math inline">\(p^*\)</span>, אך <span class="math inline">\(q^*\)</span> מוזז לפי ההפרש בקואורדינטת ה-<span class="math inline">\(y\)</span>. כלומר <span class="math inline">\(q^*\)</span> הוא הישר המקביל ל-<span class="math inline">\(p^*\)</span> ועובר דרך נקודה <span class="math inline">\(q'\)</span>, שהיא תמונת מראה של <span class="math inline">\(q\)</span> ביחס לישר האופקי העובר דרך <span class="math inline">\(p\)</span>. תוכלו לראות את הקשר הזה בעזרת היישומון הבא.</p>
<center>
<iframe src="https://www.desmos.com/calculator/ntcunrsyha?embed" width="100%" height="500" style="border: 1px solid #ccc" frameborder="0">
</iframe>
</center>
</div>
</div>
<div id="קראו-את-סעיף-8.2-בספר-הלימוד-עמודים-177179." class="section level4 unnumbered">
<h4>קראו את סעיף 8.2 בספר הלימוד (עמודים 177–179).<a class="anchor" aria-label="anchor" href="#%D7%A7%D7%A8%D7%90%D7%95-%D7%90%D7%AA-%D7%A1%D7%A2%D7%99%D7%A3-8.2-%D7%91%D7%A1%D7%A4%D7%A8-%D7%94%D7%9C%D7%99%D7%9E%D7%95%D7%93-%D7%A2%D7%9E%D7%95%D7%93%D7%99%D7%9D-177179."><i class="fas fa-link"></i></a>
</h4>
<p>החלק האחרון של סעיף 8.2 מתאר כיצד ניתן להשתמש בדואליות כדי לחשב את ה-discrepancy של קבוצת נקודות. נחזור לכך בהמשך, לאחר שנדבר על מערכים של ישרים במישור, ולכן דלגו בשלב זה על שתי הפסקאות האחרונות של סעיף 8.2.</p>
<div class="rmdwarning">
<div class="inline-figure">
<img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> כיצד נראית הטרנספורמציה הדואלית של:</div>
<ol style="list-style-type: decimal">
<li><p>חצי מישור <span class="math inline">\(h\)</span>?</p></li>
<li><p>אוסף של <span class="math inline">\(k\ge 3\)</span> נקודות, שכולן על אותו ישר לא אנכי?</p></li>
</ol>
<details><summary>
(פתרון)
</summary><ol style="list-style-type: decimal">
<li><p>נסמן ב-<span class="math inline">\(\ell\)</span> את הישר המגדיר את חצי המישור <span class="math inline">\(h\)</span>, ונניח (בלי הגבלת הכלליות) שחצי המישור <span class="math inline">\(h\)</span> נמצא מעל <span class="math inline">\(\ell\)</span>. במישור הראשי, כל נקודה <span class="math inline">\(p\)</span> ב-<span class="math inline">\(h\)</span> נמצאת מעל <span class="math inline">\(\ell\)</span>, ולכן במישור הדואלי, הנקודה <span class="math inline">\(\ell^*\)</span> נמצאת מעל הישר <span class="math inline">\(p^*\)</span>. כלומר הטרנספורמציה הדואלית של חצי מישור היא אוסף הישרים שעוברים מתחת לנקודה.</p></li>
<li><p>נניח שהנקודות <span class="math inline">\(p_1,\dots,p_k\)</span> נמצאות כולן על ישר <span class="math inline">\(\ell\)</span> במישור הראשי. מכאן שבמישור הדואלי, הנקודה <span class="math inline">\(\ell^*\)</span> נמצאת על הישרים <span class="math inline">\(p_1,\dots,p_k\)</span>. כלומר הטרנספורמציה הדואלית של אוסף נקודות שנמצאות על ישר אחד היא אוסף של ישרים הנחתכים כולם באותה נקודה.</p></li>
</ol></details>
</div>
<hr>
</div>
</div>
</div>
<div id="line-arrangements" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> מערכים של ישרים במישור<a class="anchor" aria-label="anchor" href="#line-arrangements"><i class="fas fa-link"></i></a>
</h2>
<div id="complexity" class="section level3" number="8.3.1">
<h3>
<span class="header-section-number">8.3.1</span> הגדרה, מבנה וגודל<a class="anchor" aria-label="anchor" href="#complexity"><i class="fas fa-link"></i></a>
</h3>
<p><img src="images/8/line-arr.jpg" align="left" width="33%"> קבוצה <span class="math inline">\(L\)</span> של <span class="math inline">\(n\)</span> ישרים במישור מחלקת את המישור לאוסף של תאים (פאות), צלעות וקודקודים. חלוקה כזאת של המישור נקראת <strong>מערך של ישרים</strong> (line arrangement), ומסומנת <span class="math inline">\(\mathcal{A}(L)\)</span>. בסרטון הבא נדבר על המבנה ועל הגודל של מערכי ישרים במישור.</p>
<div id="צפו-בסרטון-הבא.-13" class="section level4 unnumbered">
<h4>צפו בסרטון הבא.<a class="anchor" aria-label="anchor" href="#%D7%A6%D7%A4%D7%95-%D7%91%D7%A1%D7%A8%D7%98%D7%95%D7%9F-%D7%94%D7%91%D7%90.-13"><i class="fas fa-link"></i></a>
</h4>
<center>
<iframe width="560" height="315" src="https://www.youtube.com/embed/AuoNQrgeHT0?si=EZW3CmU270MloKEa" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
</iframe>
</center>
<p>ראינו שלמערך <span class="math inline">\(\mathcal{A}(L)\)</span> של ישרים במישור יש שלושה סוגי רכיבים:</p>
<ul>
<li>קודקודים – כאשר כל קודקוד הוא נקודת חיתוך בין ישרים מ-<span class="math inline">\(L\)</span>.</li>
<li>צלעות – כאשר כל צלע היא קטע (פתוח) או קרן (שצידה האחד פתוח וצידה שני לא חסום) על אחד הישרים.</li>
<li>פאות – כאשר כל פאה היא רכיב קשיר מקסימלי של נקודות שלא נמצאות על אחד הישרים.</li>
</ul>
<p>הפאות הן כמובן קמורות, שכן הן נוצרות מחיתוך של חצאי מישורים.</p>
<p>כמו כן, הגדרנו שהמערך <span class="math inline">\(\mathcal{A}(L)\)</span> הוא <strong>פשוט</strong> אם אין ב-<span class="math inline">\(L\)</span> שלושה ישרים שעוברים דרך אותה נקודה, ואין ישרים מקבילים.</p>
<div class="rmdimportant">
<p><img src="images/definition.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u><strong>משפט</strong>:</u></p>
<p>תהי <span class="math inline">\(L\)</span> קבוצה של <span class="math inline">\(n\)</span> ישרים במישור, ויהי <span class="math inline">\(\mathcal{A}(L)\)</span> המערך של <span class="math inline">\(L\)</span>. מתקיים:</p>
<ol style="list-style-type: decimal">
<li>מספר הקודקודים ב-<span class="math inline">\(\mathcal{A}(L)\)</span> הוא לכל היותר <span class="math inline">\(n(n-1)/2\)</span>.</li>
<li>מספר הצלעות ב-<span class="math inline">\(\mathcal{A}(L)\)</span> הוא לכל היותר <span class="math inline">\(n^2\)</span>.</li>
<li>מספר הפאות ב-<span class="math inline">\(\mathcal{A}(L)\)</span> הוא לכל היותר <span class="math inline">\(n^2/2+n/2+1\)</span>.</li>
</ol>
<p>כמו כן, מתקיים שוויון בכל השלושה אם ורק אם <span class="math inline">\(\mathcal{A}(L)\)</span> הוא מערך פשוט.</p>
</div>
</div>
<div id="קראו-את-חלקו-הראשון-של-סעיף-8.3-בספר-הלימוד-עמודים-179180." class="section level4 unnumbered">
<h4>קראו את חלקו הראשון של סעיף 8.3 בספר הלימוד (עמודים 179–180).<a class="anchor" aria-label="anchor" href="#%D7%A7%D7%A8%D7%90%D7%95-%D7%90%D7%AA-%D7%97%D7%9C%D7%A7%D7%95-%D7%94%D7%A8%D7%90%D7%A9%D7%95%D7%9F-%D7%A9%D7%9C-%D7%A1%D7%A2%D7%99%D7%A3-8.3-%D7%91%D7%A1%D7%A4%D7%A8-%D7%94%D7%9C%D7%99%D7%9E%D7%95%D7%93-%D7%A2%D7%9E%D7%95%D7%93%D7%99%D7%9D-179180."><i class="fas fa-link"></i></a>
</h4>
<p>(קראו עד ההוכחה של משפט 8.4, כולל)</p>
</div>
</div>
<div id="construcion" class="section level3" number="8.3.2">
<h3>
<span class="header-section-number">8.3.2</span> ייצוג ובניית המערך<a class="anchor" aria-label="anchor" href="#construcion"><i class="fas fa-link"></i></a>
</h3>
<p>בעמוד הקודם ראינו שהמערך <span class="math inline">\(\mathcal{A}(L)\)</span> של אוסף <span class="math inline">\(L\)</span> של ישרים הוא חלוקה של המישור, ואסימפטוטית הוא לכל היותר מגודל ריבועי (במספר הישרים).</p>
<div id="כיצד-נייצג-מערך-של-ישרים" class="section level4 unnumbered">
<h4>כיצד נייצג מערך של ישרים?<a class="anchor" aria-label="anchor" href="#%D7%9B%D7%99%D7%A6%D7%93-%D7%A0%D7%99%D7%99%D7%A6%D7%92-%D7%9E%D7%A2%D7%A8%D7%9A-%D7%A9%D7%9C-%D7%99%D7%A9%D7%A8%D7%99%D7%9D"><i class="fas fa-link"></i></a>
</h4>
<p><img src="images/8/DCEL.jpg" align="left" width="40%"> נוכל להשתמש במבנה DCEL שראינו ביחידה 2, שיאפשר לנו לעבור מפאה לפאה, לגשת לרשימת כל הצלעות שמגדירות פאה נתונה, ועוד. שימו לב שהמערך <span class="math inline">\(\mathcal{A}(L)\)</span> מכיל גם צלעות אינסופיות, ולכן כדי להשתמש במבנה DCEL נצטרך להשתמש בטריק שכבר ראינו בעבר: נמצא מלבן <span class="math inline">\(R\)</span> מספיק גדול שמכיל את כל הקודקודים של <span class="math inline">\(\mathcal{A}(L)\)</span> בפנימו.</p>
</div>
<div id="בניית-ה-dcel." class="section level4 unnumbered">
<h4>בניית ה-DCEL.<a class="anchor" aria-label="anchor" href="#%D7%91%D7%A0%D7%99%D7%99%D7%AA-%D7%94-dcel."><i class="fas fa-link"></i></a>
</h4>
<p>כדי לבנות את ה-DCEL עבור <span class="math inline">\(\mathcal{A}(L)\)</span> המוכל במלבן <span class="math inline">\(R\)</span>, נוכל פשוט להשתמש באלגוריתם הסורק שראינו ביחידה 2. האלגוריתם ימצא את כל נקודות החיתוך בין קטעים, שהם הקודקודים של המערך, בזמן <span class="math inline">\(O(n^2\log n)\)</span>, ובעזרתו נוכל (על ידי מספר שינויים פשוטים) גם לחשב את מבנה ה-DCEL.</p>
<div class="rmdwarning">
<div class="inline-figure">
<img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> חשבו בעצמכם מהם השינויים הנדרשים באלגוריתם הסורק כדי לחשב את מבנה ה-DCEL של מערך ישרים.</div>
</div>
</div>
<div id="אלגוריתם-יעיל-יותר." class="section level4 unnumbered">
<h4>אלגוריתם יעיל יותר.<a class="anchor" aria-label="anchor" href="#%D7%90%D7%9C%D7%92%D7%95%D7%A8%D7%99%D7%AA%D7%9D-%D7%99%D7%A2%D7%99%D7%9C-%D7%99%D7%95%D7%AA%D7%A8."><i class="fas fa-link"></i></a>
</h4>
<p>בחלקו השני של סעיף 8.3 בספר הלימוד (עמודים 181–185) מתואר אלגוריתם אינקרמנטלי לבניית מערך של ישרים. זמן הריצה שלו הוא <span class="math inline">\(O(n^2)\)</span> בלבד, אך הוא מסובך יותר ולא נלמד אותו בקורס זה.</p>
</div>
</div>
<div id="vertex-level" class="section level3" number="8.3.3">
<h3>
<span class="header-section-number">8.3.3</span> רמה (level) של נקודה במערך<a class="anchor" aria-label="anchor" href="#vertex-level"><i class="fas fa-link"></i></a>
</h3>
<p>לפני שנוכל לחזור לפתרון בעיית חישוב ה-discrepancy, נגדיר מונח נוסף שיעזור לנו במשימה הזאת (ובעוד רבות אחרות).</p>
<div class="rmdimportant">
<p><img src="images/definition.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u><strong>הגדרה</strong>: רמה של נקודה במערך של ישרים</u><br>
הרמה (level) של נקודה <span class="math inline">\(r\)</span> במערך של ישרים היא מספר הישרים שעוברים מעל <span class="math inline">\(r\)</span> (מעל ממש, כלומר לא עוברים דרך <span class="math inline">\(r\)</span>).</p>
</div>
<div class="rmdtip">
<p><img src="images/example.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><u>דוגמה:</u></p>
<p>הרמה של הנקודה <span class="math inline">\(p\)</span> היא 3, מכיוון שעוברים מעליה שלושה ישרים: <span class="math inline">\(\ell_1,\ell_4,\ell_5\)</span>.</p>
<p>מהי הרמה של הנקודה <span class="math inline">\(q\)</span>? שימו לב ש-<span class="math inline">\(q\)</span> היא קודקוד של מערך הישרים, ורק הישר <span class="math inline">\(\ell_4\)</span> עובר מעליה. לכן הרמה של <span class="math inline">\(q\)</span> היא 1.</p>
<center>
<img src="images/8/level-example.jpg" style="width:50.0%">
</center>
</div>
<div id="כיצד-נוכל-לחשב-את-הרמה-של-קודקוד-במערך-ישרים" class="section level4 unnumbered">
<h4>כיצד נוכל לחשב את הרמה של קודקוד במערך ישרים?<a class="anchor" aria-label="anchor" href="#%D7%9B%D7%99%D7%A6%D7%93-%D7%A0%D7%95%D7%9B%D7%9C-%D7%9C%D7%97%D7%A9%D7%91-%D7%90%D7%AA-%D7%94%D7%A8%D7%9E%D7%94-%D7%A9%D7%9C-%D7%A7%D7%95%D7%93%D7%A7%D7%95%D7%93-%D7%91%D7%9E%D7%A2%D7%A8%D7%9A-%D7%99%D7%A9%D7%A8%D7%99%D7%9D"><i class="fas fa-link"></i></a>
</h4>
<p>בהינתן מבנה DCEL של המערך <span class="math inline">\(\mathcal{A}(L)\)</span>, נוכל לחשב את הרמות של כל הקודקודים במערך בזמן <span class="math inline">\(O(n^2)\)</span> בסך הכול, בעזרת האלגוריתם הבא.<br></p>
<center>
<img src="images/8/levels-alg.jpg" style="width:75.0%">
</center>
<p>עבור ישר <span class="math inline">\(\ell\in L\)</span> כלשהו, נמצא את הקודקוד השמאלי ביותר שנמצא עליו, <span class="math inline">\(v_1\)</span>, ונחשב את הרמה שלו, <span class="math inline">\(level(v_1)\)</span>, בזמן <span class="math inline">\(O(n)\)</span> על ידי בדיקת כל הישרים האחרים. לאחר מכן, נוכל להתקדם לאורך הישר <span class="math inline">\(\ell\)</span> בעזרת מבנה ה-DCEL מהקודקוד הנוכחי, <span class="math inline">\(v_i\)</span>, אל הקודקוד שמימינו, <span class="math inline">\(v_{i+1}\)</span>, ולחשב את הרמה של <span class="math inline">\(v_{i+1}\)</span> בהינתן <span class="math inline">\(level(v_i)\)</span> בזמן קבוע:</p>
<ol style="list-style-type: decimal">
<li>נאתחל <span class="math inline">\(level(v_{i+1})\leftarrow level(v_i)\)</span>.</li>
<li>אם הישר דרך <span class="math inline">\(v_i\)</span> עובר מעל <span class="math inline">\(v_{i+1}\)</span>, נוסיף 1 ל-<span class="math inline">\(level(v_{i+1})\)</span>.</li>
<li>אם הישר דרך <span class="math inline">\(v_{i+1}\)</span> עובר מעל <span class="math inline">\(v_i\)</span>, נחסיר 1 מ-<span class="math inline">\(level(v_{i+1})\)</span>.</li>
</ol>
<p>(שימו לב ש-2 ו-3 יכולים להתקיים יחד, ואז הרמה של <span class="math inline">\(v_{i+1}\)</span> לא תשתנה).</p>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> מהי הרמה של כל אחד מהקודקודים על הישר <span class="math inline">\(\ell\)</span> במערך הישרים שבאיור?</p>
<center>
<img src="images/8/levels-q.jpg" style="width:85.0%">
</center>
<details><summary>
(פתרון)
</summary><center>
<img src="images/8/levels-ans.jpg" style="width:85.0%">
</center>
</details>
</div>
<div class="rmdnote">
<p><img src="images/extra.png" align="left" width="10%" style="padding:0px 0px 0px 10px"><strong>מעניין לדעת</strong>: הרמה ה-<span class="math inline">\(k\)</span>-ית של מערך <span class="math inline">\(\mathcal{A}(L)\)</span> של <span class="math inline">\(n\)</span> ישרים במישור היא אוסף הקודקודים של <span class="math inline">\(\mathcal{A}(L)\)</span> שהרמה שלהם היא <span class="math inline">\(k\)</span>. כמה קודקודים יש ברמה ה-<span class="math inline">\(n/2\)</span>? זוהי בעיה פתוחה. למעשה, ידוע חסם תחתון של <span class="math inline">\(\Omega(n\log n)\)</span> וחסם עליון של <span class="math inline">\(O(n^{3/4})\)</span>.</p>
</div>
</div>
<div id="הכוח-של-דואליות." class="section level4" number="8.3.3.1">
<h4>
<span class="header-section-number">8.3.3.1</span> הכוח של דואליות.<a class="anchor" aria-label="anchor" href="#%D7%94%D7%9B%D7%95%D7%97-%D7%A9%D7%9C-%D7%93%D7%95%D7%90%D7%9C%D7%99%D7%95%D7%AA."><i class="fas fa-link"></i></a>
</h4>
<p>נחזור לבעית חישוב ה-discrepancy של קבוצת נקודות. בהינתן קבוצה <span class="math inline">\(S\)</span> של <span class="math inline">\(n\)</span> נקודות, המטרה שלנו בסוף החלק הראשון של יחידה זו הייתה לחשב לכל זוג נקודות <span class="math inline">\(p,q\in S\)</span> את המדד הדיסקרטי של חצי המישור שחסום על ידי הישר <span class="math inline">\(\ell(p,q)\)</span> העובר דרך <span class="math inline">\(p\)</span> ו-<span class="math inline">\(q\)</span>. במישור הדואלי, הנקודה <span class="math inline">\(\ell(p,q)^*\)</span> (הדואלית לישר <span class="math inline">\(\ell(p,q)\)</span>) היא נקודת החיתוך בין <span class="math inline">\(p^*\)</span> (הישר הדואלי ל-<span class="math inline">\(p\)</span>), ל-<span class="math inline">\(q^*\)</span> (הישר הדואלי ל-<span class="math inline">\(q\)</span>). לכן נקודה <span class="math inline">\(s\)</span> נמצאת מתחת לישר <span class="math inline">\(\ell(p,q)\)</span> במישור הראשי, אם ורק אם הישר <span class="math inline">\(s^*\)</span> עובר מתחת לנקודה <span class="math inline">\(\ell(p,q)^*\)</span> במישור הדואלי.</p>
<center>
<img src="images/8/dual-discrepancy.jpg" style="width:80.0%">
</center>
<p>שימו לב שבמישור הדואלי, <span class="math inline">\(S\)</span> היא קבוצה <span class="math inline">\(S^*\)</span> של ישרים, שמהווה מערך של ישרים. מכאן, שמספר הנקודות מ-<span class="math inline">\(S\)</span> שנמצאות בחצי המישור הפתוח שמוגדר על ידי <span class="math inline">\(\ell(p,q)\)</span> ונמצא מתחתיו, שווה למספר הישרים במישור הדואלי שעוברים מעל הנקודה <span class="math inline">\(\ell(p,q)^*\)</span>. זוהי בדיוק הרמה של הקודקוד <span class="math inline">\(\ell(p,q)^*\)</span> במערך הישרים <span class="math inline">\(\mathcal{A}(S^*)\)</span>.</p>
<p>כמו שראינו בחלק הקודם, ניתן לחשב את הרמות של כל הקודקודים במערך ישרים בזמן <span class="math inline">\(O(n^2)\)</span>, ולכן נוכל לחשב את ה-discrepancy של <span class="math inline">\(S\)</span> בזמן <span class="math inline">\(O(n^2)\)</span>.</p>
</div>
<div id="קראו-את-סעיף-8.4-בספר-הלימוד-עמודים-185186." class="section level4" number="8.3.3.2">
<h4>
<span class="header-section-number">8.3.3.2</span> קראו את סעיף 8.4 בספר הלימוד (עמודים 185–186).<a class="anchor" aria-label="anchor" href="#%D7%A7%D7%A8%D7%90%D7%95-%D7%90%D7%AA-%D7%A1%D7%A2%D7%99%D7%A3-8.4-%D7%91%D7%A1%D7%A4%D7%A8-%D7%94%D7%9C%D7%99%D7%9E%D7%95%D7%93-%D7%A2%D7%9E%D7%95%D7%93%D7%99%D7%9D-185186."><i class="fas fa-link"></i></a>
</h4>
<hr>
</div>
</div>
</div>
<div id="exercises" class="section level2" number="8.4">
<h2>
<span class="header-section-number">8.4</span> תרגילים נוספים<a class="anchor" aria-label="anchor" href="#exercises"><i class="fas fa-link"></i></a>
</h2>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> תארו אלגוריתם שבהינתן אוסף <span class="math inline">\(L\)</span> של <span class="math inline">\(n\)</span> ישרים במישור, מוצא בזמן <span class="math inline">\(O(n\log n)\)</span> מלבן <span class="math inline">\(R\)</span> שמכיל את כל הקודקודים של <span class="math inline">\(\mathcal{A}(L)\)</span> בפנימו.</p>
<details><summary>
(פתרון)
</summary><p>TODO</p>
</details>
</div>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> נתון אוסף <span class="math inline">\(C\)</span> של <span class="math inline">\(n\)</span> מעגלים במישור. שימו לב שגם אוסף זה מהווה חלוקה של המישור לתאים. הצלעות במערך המעגלים יהיו קשתות של מעגלים מ-<span class="math inline">\(C\)</span>. שימו לב שהפאות במערך המעגלים אינן בהכרח קמורות. מהי הסיבוכיות של מערך מעגלים?</p>
<details><summary>
(פתרון)
</summary><p>TODO</p>
</details>
</div>
<div class="rmdwarning">
<p><img src="images/question.png" align="left" width="10%" style="padding:0px 0px 0px 10px"> כפי שראיתם, בבעיות רבות בגיאומטריה חישובית אנחנו מניחים (לשם פשטות) שהקלט אינו מכיל שלוש נקודות הנמצאות על ישר אחד. כיצד ניתן לוודא זאת? בדיקה זו נקראת בדיקת קו-ליניארית, ואלגוריתם נאיבי יבדוק כל שלוש נקודות, בזמן של <span class="math inline">\(O(n^3)\)</span>. חשבו כיצד ניתן להשתמש ברעיון הדואליות כדי לבדוק זאת בזמן <span class="math inline">\(O(n^2)\)</span> בלבד.</p>
<details><summary>
(פתרון)
</summary><p>TODO</p>
</details>
</div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="voronoi.html"><span class="header-section-number">7</span> דיאגרמת וורונוי</a></div>
<div class="next"><a href="Delaunay-triangulation.html"><span class="header-section-number">9</span> שילושי דלוני</a></div>
</div></main><div class="col-md-3 col-lg-3 d-none d-md-block sidebar sidebar-chapter border-right">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>ביחידה זו:</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#duality-arrangements"><span class="header-section-number">8</span> מערכים ודואליות</a></li>
<li>
<a class="nav-link" href="#preface-8"><span class="header-section-number">8.1</span> הקדמה</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#contents-8"><span class="header-section-number">8.1.1</span> מה ביחידה?</a></li>
<li><a class="nav-link" href="#geometric-sampling"><span class="header-section-number">8.1.2</span> דגימה גיאומטרית טובה</a></li>
<li><a class="nav-link" href="#discrepancy"><span class="header-section-number">8.1.3</span> חישוב ה-discrepancy של קבוצת נקודות</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#point-line-duality"><span class="header-section-number">8.2</span> דואליות של נקודה וישר</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#definition"><span class="header-section-number">8.2.1</span> הגדרת הטרנספורמציה הדואלית</a></li>
<li><a class="nav-link" href="#properties"><span class="header-section-number">8.2.2</span> תכונות הטרנספורמציה הדואלית</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#line-arrangements"><span class="header-section-number">8.3</span> מערכים של ישרים במישור</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#complexity"><span class="header-section-number">8.3.1</span> הגדרה, מבנה וגודל</a></li>
<li><a class="nav-link" href="#construcion"><span class="header-section-number">8.3.2</span> ייצוג ובניית המערך</a></li>
<li><a class="nav-link" href="#vertex-level"><span class="header-section-number">8.3.3</span> רמה (level) של נקודה במערך</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exercises"><span class="header-section-number">8.4</span> תרגילים נוספים</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p dir="rtl" style="text-align:right;">הספר "<strong>גאומטריה חישובית</strong>" נכתב על ידי ד’’ר עומרית פילצר. עדכון אחרון: 2023-12-18.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
